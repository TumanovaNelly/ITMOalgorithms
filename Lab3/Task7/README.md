# Задача №7: Поразрядная сортировка строк

## Описание задачи
Необходимо реализовать алгоритм поразрядной (radix) сортировки строк одинаковой длины. Алгоритм должен отсортировать строки на основе заданного количества последних символов. Решение должно эффективно обрабатывать строки, состоящие из символов нижнего регистра латинского алфавита.

## Структура кода
Код организован в две части: исходный код с реализацией алгоритма поразрядной сортировки и тесты для проверки корректности и производительности решения.

### Папка `src`
Папка с исходным кодом.

#### Файл `RadixSort.py`

1. **Функция `counting_sort`**

   - **Параметры**:
     - `lst` (тип: `List[str]`) — список строк для сортировки.
     - `indexes_lst` (тип: `List[int]`) — список индексов строк для сохранения их исходного порядка.
     - `index` (тип: `int`) — позиция символа в строке, по которому выполняется сортировка.

   - **Возвращаемое значение**:
     - `None` (функция сортирует список на месте и обновляет список индексов).

   - **Описание**:
     - Реализует сортировку подсчётом для символов латинского алфавита на позиции `index`.
     - Создаёт массив частот для символов от 'a' до 'z'.
     - Вычисляет позиции символов на основе накопленных частот.
     - Сортирует строки и их индексы по символу на позиции `index`, сохраняя стабильность.
     - Работает за линейное время `O(n)`, где `n` — длина списка.

2. **Функция `radix_sort`**

   - **Параметры**:
     - `lst` (тип: `List[str]`) — список строк для сортировки.
     - `lens` (тип: `int`) — длина строк (все строки имеют одинаковую длину).
     - `number` (тип: `int`) — количество последних символов, по которым нужно выполнить сортировку.

   - **Возвращаемое значение**:
     - `List[int]` — список индексов строк, отсортированных по указанным символам.

   - **Описание**:
     - Инициализирует список индексов строк.
     - Выполняет поразрядную сортировку, начиная с конца строки и двигаясь к началу, на основе `number` последних символов.
     - Использует функцию `counting_sort` для сортировки по каждому разряду.
     - Работает за время `O(n * k)`, где `n` — длина списка, `k` — количество символов для сортировки.

3. **Функция `main`**

   - **Описание**:
     - Считывает длину строк (`lens`) и количество символов для сортировки (`number`) из файла `input.txt`.
     - Читает список строк из файла.
     - Сортирует строки с помощью функции `radix_sort`.
     - Записывает отсортированные индексы в файл `output.txt` с помощью функции `write()`.

4. **Запуск программы**
   - Блок `if __name__ == "__main__":` вызывает функцию `main()` для выполнения программы.

### Папка `tests`
Папка с тестами.

#### Файл `RadixSort_test.py`

1. **Функция `test_radix_sort_first_example`**

   - **Описание**:
     - Проверяет корректность работы `radix_sort` для сортировки по последнему символу.
     - Входные данные: `['bab', 'bba', 'baa']`.
     - Ожидаемый результат: `[2, 3, 1]` (сортировка по 1-му последнему символу).

2. **Функция `test_radix_sort_second_example`**

   - **Описание**:
     - Проверяет корректность работы `radix_sort` для сортировки по последним двум символам.
     - Входные данные: `['bab', 'bba', 'baa']`.
     - Ожидаемый результат: `[3, 1, 2]` (сортировка по 2-м последним символам).

3. **Функция `test_radix_sort_third_example`**

   - **Описание**:
     - Проверяет корректность работы `radix_sort` для сортировки по всей строке.
     - Входные данные: `['bab', 'bba', 'baa']`.
     - Ожидаемый результат: `[3, 1, 2]` (сортировка по 3-м последним символам).

4. **Функция `test_time`**

   - **Описание**:
     - Проверяет производительность функции `main` на больших входных данных.
     - Измеряет время выполнения и проверяет, что оно не превышает 3 секунд.

### Папка `txtf`
Папка с входными и выходными файлами.

#### Входные данные (`input.txt`)
Содержат две строки:
1. Два целых числа — длина строк (`lens`) и количество символов для сортировки (`number`).
2. Список строк, каждая строка с новой строки.

#### Выходные данные (`output.txt`)
Содержат список индексов строк, отсортированных по указанным символам, каждый индекс на новой строке.

## Запуск программы и тестов

### Решение

1. Перейдите в папку с решением задачи:
```bash
cd ITMOalgorithms/Lab3/Task7/
```

2. Исходные данные находятся в папке `txtf` в файле `input.txt`. Чтобы открыть его в текстовом редакторе:
```bash
notepad txtf/input.txt
```

3. Запустите программу:
```bash
python src/RadixSort.py
```

4. Результаты будут записаны в `output.txt`. Чтобы открыть его в текстовом редакторе:
```bash
notepad txtf/output.txt
```

### Тестирование

1. Запустите тесты с помощью `pytest`:
```bash
pytest tests/RadixSort_test.py
```
