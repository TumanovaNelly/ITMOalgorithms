# Задача №1: Быстрая сортировка 
## Описание задачи
Необходимо реализовать алгоритм быстрой сортировки, который сортирует список элементов. Реализованный алгоритм использует случайный выбор опорного элемента и поддерживает работу с произвольными типами данных, поддерживающими операции сравнения.

## Структура кода
Код организован в две части: исходный код алгоритма сортировки и тесты для проверки корректности и производительности решения.

### Папка `src`
Папка с исходным кодом.

#### Файл `QuickSort.py`

1. **Функция `partition`**

   - **Параметры**:
     - `lst` (тип: `List[T]`) — список элементов для сортировки.
     - `start` (тип: `int`) — индекс начала сегмента списка, который требуется разделить.
     - `end` (тип: `int`) — индекс конца сегмента списка.
     - `pivot` (тип: `T`) — значение опорного элемента для разделения.

   - **Возвращаемое значение**:
     - Кортеж из двух целых чисел `(end_left, end_mid)`:
       - `end_left` — индекс конца сегмента с элементами, меньшими опорного.
       - `end_mid` — индекс конца сегмента с элементами, равными опорному.

   - **Описание**:
     - Функция реализует алгоритм трёхчастного разделения списка:
       - Элементы меньше `pivot` перемещаются в левую часть.
       - Элементы, равные `pivot`, находятся в середине.
       - Элементы больше `pivot` остаются в правой части.
     - Работает за линейное время `O(n)`.

2. **Функция `quick_sort`**

   - **Параметры**:
     - `lst` (тип: `List[T]`) — список элементов для сортировки.
     - `start` (тип: `int`) — индекс начала сортируемого сегмента (по умолчанию 0).
     - `end` (тип: `int`) — индекс конца сортируемого сегмента (по умолчанию -1, что означает конец списка).

   - **Возвращаемое значение**:
     - `None` (функция сортирует список на месте).

   - **Описание**:
     - Реализует алгоритм быстрой сортировки с использованием рекурсии.
     - Выбирает случайный элемент в качестве опорного (`pivot`).
     - Разделяет список с помощью функции `partition`.
     - Рекурсивно сортирует левую и правую части списка.
     - Базовый случай рекурсии — сегмент из одного элемента или пустой сегмент.

3. **Функция `main`**

   - **Описание**:
     - Считывает список из файла `input.txt` с помощью функции `read()`.
     - Сортирует список с помощью функции `quick_sort`.
     - Записывает отсортированный список в файл `output.txt` с помощью функции `write()`.

4. **Запуск программы**
   - Блок `if __name__ == "__main__":` вызывает функцию `main()` для выполнения программы.


### Папка `tests`
Папка с тестами.

#### Файл `QuickSort_test.py`

1. **Функция `test_partition`**

   - **Описание**:
     - Тестирует корректность работы функции `partition`.
     - Генерирует случайный список и случайное значение `pivot`.
     - Проверяет, что все элементы, меньшие `pivot`, находятся слева, а равные `pivot` — в середине.
     - Сравнивает границы сегментов, возвращаемые функцией, с вычисленными вручную.

2. **Функция `test_quick_sort_random_int`**

   - **Описание**:
     - Проверяет работу функции `quick_sort` на случайных числовых данных.
     - Генерирует случайный список из 1000 целых чисел от -100 до 100.
     - Сравнивает результат работы `quick_sort` с результатом встроенной функции `sorted`.

3. **Функция `test_quick_sort_random_str`**

   - **Описание**:
     - Проверяет работу функции `quick_sort` на строковых данных.
     - Генерирует случайный список из 1000 строковых представлений чисел.
     - Сравнивает результат работы `quick_sort` с результатом встроенной функции `sorted`.

4. **Функция `test_time`**

   - **Описание**:
     - Проверяет производительность функции `main` на больших входных данных.
     - Измеряет время выполнения и проверяет, что оно не превышает 2 секунд.


### Папка `txtf`
Папка с входными и выходными файлами.

#### Входные данные (`input.txt`)
Содержат список элементов, разделённых пробелами, для сортировки.

#### Выходные данные (`output.txt`)
Содержат отсортированный список элементов, каждый элемент на новой строке.


## Запуск программы и тестов

### Решение

1. Перейдите в папку с решением задачи:
```bash
cd ITMOalgorithms/Lab3/Task1/
```

2. Исходные данные находятся в папке `txtf` в файле `input.txt`. Чтобы открыть его в текстовом редакторе:
```bash
notepad txtf/input.txt
```

3. Запустите программу:
```bash
python src/QuickSort.py
```

4. Результаты будут записаны в `output.txt`. Чтобы открыть его в текстовом редакторе:
```bash
notepad txtf/output.txt
```

### Тестирование

1. Запустите тесты с помощью `pytest`:
```bash
pytest tests/QuickSort_test.py
```

