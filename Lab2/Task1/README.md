# Задача №1: Сортировка слиянием

## Задание
Реализовать алгоритм сортировки слиянием.

## Структура 
Этот код реализует алгоритм итеративной сортировки слиянием, при котором список сортируется за счет последовательного объединения отсортированных подсписков. Вот основные элементы структуры кода:

### Папка `src`
Папка с исходным кодом

##### Файл `MergeSort.py`

1. **Функция `merge`**

   - **Параметры**:
     - `list1` (тип: `List[int]`) — первый отсортированный подсписок.
     - `list2` (тип: `List[int]`) — второй отсортированный подсписок.
     - `target` (тип: `List[int]`) — список, в который будет произведено слияние элементов из `list1` и `list2`.
     - `start_index` (тип: `int`, значение по умолчанию — 0) — индекс, с которого будет начинаться слияние в `target`.

   - **Возвращаемое значение**:
     - Возвращает количество инверсий, обнаруженных при слиянии двух подсписков.

   - **Описание**:
     - Инициализирует указатели `cur1`, `cur2` для отслеживания текущих позиций в `list1` и `list2`, а также `cur_target` для текущей позиции в `target`.
     - Объединяет элементы из обоих подсписков до тех пор, пока один из них полностью не вставится.
     - Копирует оставшиеся элементы из одного из подсписков, если они еще не были вставлены в `target`.

2. **Функция `merge_sort`**

   - **Параметры**:
     - `lst` (тип: `List[int]`) — список целых чисел, который необходимо отсортировать.

   - **Возвращаемое значение**:
     - Возвращает количество инверсий в списке.

   - **Описание**:
     - Эта функция сортирует список `lst` итеративным методом:
     - Начинает с подсписков длиной 1, которые уже отсортированы по определению.
     - В каждом цикле `while` объединяет подсписки длины `len_merging_lists`, увеличивая их размер в два раза с каждым шагом.
     - Внутренний цикл `while` проходит по парам подсписков и объединяет их с использованием функции `merge`.
     - Удваивает `len_merging_lists` после прохождения всех подсписков текущей длины.

3. **Функция `main`**

   - **Описание**:
     - Читает исходный список `lst` из файла.
     - Вызывает `merge_sort` для сортировки `lst`.
     - Записывает отсортированный список в выходной файл.

4. **Запуск программы**
   - Блок `if __name__ == "__main__":` вызывает `main()` для выполнения программы, если она запускается как самостоятельный скрипт.

### Папка `tests`
Папка с тестами 

##### Файл `MergeSort_test.py`

1. **Функция `test_merge`**

   - **Описание**:
     - Тестирует функцию `merge` на корректность:
     - Создает целевой список `lst` длиной 10, заполненный нулями.
     - Сливает два отсортированных списка `[1, 2, 3, 4]` и `[1, 4, 6]` в `lst`, начиная с позиции 1.
     - Проверяет, совпадает ли результат с ожидаемым: `[0, 1, 1, 2, 3, 4, 4, 6, 0, 0]`.

2. **Функция `test_merge_empty`**

   - **Описание**:
     - Проверяет `merge`, когда один из списков пуст:
     - Создает целевой список `lst` длиной 10.
     - Сливает пустой список `[]` с `[1, 4, 6]` в `lst`, начиная с позиции 1.
     - Проверяет, совпадает ли результат с ожидаемым: `[0, 1, 4, 6, 0, 0, 0, 0, 0, 0]`.

3. **Функция `test_merge_sort`**

   - **Описание**:
     - Тестирует функцию `merge_sort` на случайном списке:
     - Создает случайный список целых чисел `lst` и его копию `lst_copy`.
     - Вызывает `merge_sort` для сортировки `lst`.
     - Проверяет, совпадает ли результат с отсортированной версией `lst_copy`, полученной с использованием стандартной функции `sorted()`.

4. **Функция `test_merge_sort_empty`**

   - **Описание**:
     - Тестирует `merge_sort` на пустом списке:
     - Создает пустой список `lst`.
     - Вызывает `merge_sort`.
     - Проверяет, что `lst` остается пустым.

5. **Функция `test_merge_sort_one_elem`**

   - **Описание**:
     - Тестирует `merge_sort` на списке с одним элементом:
     - Создает список `lst` с одним элементом `[100]`.
     - Вызывает `merge_sort`.
     - Проверяет, что `lst` не изменяется.

6. **Функция `test_time`**

   - **Описание**:
     - Проверяет производительность функции `main`:
     - Использует `time_data` для измерения времени выполнения `main`.
     - Проверяет, что `main` завершает выполнение менее чем за 2 секунды.

### Папка `txtf`
Папка с input- и output-файлами

##### Входные данные (файл `input.txt`)
Список целых чисел, разделенных пробелом. Числа не превышают по модулю $10^9$, а количество чисел $10^5$.

##### Выходные данные (файл `output.txt`)
Отсортированный список целых чисел, разделенных пробелом.

## Запуск

### Решение
1. Перейдите в папку с решением задачи:
```bash
cd ITMOalgorithms/Lab2/Task1/
```
2. Исходные данные находятся в папке `txtf` в файле `input.txt`. Чтобы открыть его в блокноте, используйте:
```bash
notepad txtf/input.txt
```
3. Запустите программу:
```bash
python src/MergeSort.py
```
4. Выходные данные будут в папке `txtf` в файле `output.txt`. Чтобы открыть его в блокноте, используйте:
```bash
notepad txtf/output.txt
```

### Тесты
1. Запустите тесты:
```bash
pytest tests/MergeSort_test.py
```